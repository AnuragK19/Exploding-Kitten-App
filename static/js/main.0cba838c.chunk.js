(this["webpackJsonpexploding-kitty"]=this["webpackJsonpexploding-kitty"]||[]).push([[0],{33:function(e,a,r){},56:function(e,a,r){},63:function(e,a,r){"use strict";r.r(a);var t=r(0),c=r.n(t),s=r(12),d=r.n(s),n=(r(33),r(26)),l=r.n(n),o=r(2),i=r(1);r(52).config();var u=function(){var e=Object(t.useRef)(),a=Object(o.f)();return Object(t.useEffect)((function(){e.current.focus()}),[]),Object(i.jsx)("section",{className:"bg-wrap",children:Object(i.jsxs)("div",{className:"login-screen",children:[Object(i.jsx)("img",{src:"/loader.gif",height:"100px",width:"150px",alt:""}),Object(i.jsx)("input",{type:"text",ref:e,placeholder:"Username"}),Object(i.jsx)("button",{onClick:function(){var r=e.current.value;0===r.length||""===r?alert("Please provide a username"):(a("/game-screen?name=".concat(r)),l.a.post("".concat("http://localhost:4000").concat("/set-user"),{username:r}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})))},className:"btn-submit",children:"Start Game"})]})})};var j=function(){return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h2",{children:"#Leaderboard"}),Object(i.jsxs)("table",{children:[Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:"Trojan"}),Object(i.jsx)("td",{children:"50"})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:"Spyker"}),Object(i.jsx)("td",{children:"40"})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:"Hitman"}),Object(i.jsx)("td",{children:"30"})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:"Deadman"}),Object(i.jsx)("td",{children:"30"})]}),Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:"Destroyer"}),Object(i.jsx)("td",{children:"30"})]})]})]})},b=(r(56),r(9)),O="DEFUSE_CARD",f="EXPLODE_CARD",m="SHUFFLE_CARD",C="RESET_GAME",h="ADD_RANDOM_CARDS",g="CARD_FLIPPED",x="REDUCE_DEFUSE_CARDS",p="GAME_WON",D=function(){for(var e={1:"CAT_CARD",2:"DEFUSE_CARD",3:"SHUFFLE_CARD",4:"EXPLODE_CARD"},a=[],r=0;r<5;r++)a.push(e[Math.floor(4*Math.random()+1)]);return{type:h,payload:a}},k=function(e,a){var r={cardName:e,message:a};return console.log(r),{type:g,payload:r}},N=function(e){return console.log("Card conditions ; ",e),function(a){switch(e.cardName){case"CAT_CARD":a(k(e.cardName,"You are safe"));break;case"SHUFFLE_CARD":a(k(e.cardName,"Game has been reset. Please draw cards again.")),a({type:m}),a(D());break;case"EXPLODE_CARD":a(function(e){return e.totalDefuseCard>0?{type:x}:{type:f}}(e));break;case"DEFUSE_CARD":a(k(e.cardName,"Great! You can defuse bomb.")),a({type:O});break;case"YOU_WON":a({type:p});break;default:a(k(e.cardName,"No card drawn yet"))}}};var E=function(){var e=Object(o.e)().search,a=new URLSearchParams(e).get("name"),r=Object(b.b)(),s=Object(b.c)((function(e){return e.card})),d=Object(t.useRef)(null);return console.log(s),Object(t.useEffect)((function(){alert("Rules:\n1. Click on the deck of cards to draw a card.If the card drawn from the deck is a cat card, then the card is removed and you are safe.\n2. If the card is exploding kitten (bomb) then the player loses the game immediately.\n3. If the card is defusing card, then the card is removed from the deck. But still this card can be used to defuse one bomb that may come in subsequenct cards drawn from the deck.\n4. If the card is a shuffle card, then the game is restarted and the deck is filled with 5 cards again.\n5. A player wins if he successfuly draws all card from the deck"),r(D())}),[]),Object(i.jsxs)(c.a.Fragment,{children:[Object(i.jsxs)("section",{className:"game-screen",children:[Object(i.jsxs)("h2",{style:{textAlign:"center"},children:["Welcome, ",a]}),Object(i.jsxs)("div",{className:"card-holder",children:[Object(i.jsx)("div",{className:"drawn-card",ref:d,children:Object(i.jsxs)("label",{className:"card-labels",children:["Your card is ",s.drawnCard," ",Object(i.jsx)("br",{})," ",s.message]})}),Object(i.jsx)("div",{className:"defuse-card",children:Object(i.jsxs)("label",{className:"card-labels",children:["Defuse Card : ",s.defuseCardCount]})}),Object(i.jsxs)("div",{className:"flipped-card-wrapper",onClick:function(){var e=Math.floor(Math.random()*s.deckOfCards.length),a=s.deckOfCards.splice(e,1)[0];if(document.querySelector(".drawn-card").style.transform="rotateY(360deg)",s.deckOfCards.length>0){var t={remainingCards:s.deckOfCards,cardName:null!==a&&void 0!==a?a:"YOU_WON",totalDefuseCard:s.defuseCardCount};r(N(t))}else switch(a){case"CAT_CARD":var c={remainingCards:s.deckOfCards,cardName:"YOU_WON",totalDefuseCard:s.defuseCardCount};r(N(c));break;case"SHUFFLE_CARD":var d={remainingCards:s.deckOfCards,cardName:a,totalDefuseCard:s.defuseCardCount};r(N(d));break;case"EXPLODE_CARD":var n={remainingCards:s.deckOfCards,cardName:a,totalDefuseCard:s.defuseCardCount};s.defuseCardCount>0?(n.cardName="YOU_WON",r(N(n))):(n.cardName=a,r(N(n)));break;case"DEFUSE_CARD":var l={remainingCards:s.deckOfCards,cardName:"YOU_WON",totalDefuseCard:s.defuseCardCount};r(N(l));break;default:console.log("")}},children:[Object(i.jsx)("ul",{children:s.deckOfCards.length>0?Array(s.deckOfCards.length).fill().map((function(e){return Object(i.jsx)("li",{className:"flipped-card"},e)})):Object(i.jsx)("li",{className:"no-card"})}),Object(i.jsxs)("label",{className:"card-labels",children:["Cards left : ",s.deckOfCards.length]})]})]}),Object(i.jsx)("div",{className:"game-status",children:1===s.gameStatus?"Sorry you loose,Please click reset the game.":2===s.gameStatus?"Congratulations for winning":"Game Status"}),Object(i.jsx)("div",{className:"btn-holder",children:Object(i.jsx)("button",{className:"control-btn red",onClick:function(){r({type:C}),r(D())},children:"Reset"})})]}),Object(i.jsx)("section",{className:"leader-panel",children:Object(i.jsx)(j,{})})]})},v=r(13),y=r(8),S=r(28),A=r(3),R={numberOfCards:5,gameStatus:0,defuseCardCount:0,finalScore:0,drawnCard:"",deckOfCards:[],message:""};var _=Object(y.b)({card:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0,r=a.payload,t=a.type;switch(t){case C:return Object(A.a)(Object(A.a)({},e),{},{numberOfCards:5,defuseCardCount:0,finalScore:0,drawnCard:"",message:"",gameStatus:0});case h:return Object(A.a)(Object(A.a)({},e),{},{deckOfCards:r});case g:return Object(A.a)(Object(A.a)({},e),{},{drawnCard:r.cardName,message:r.message});case O:return Object(A.a)(Object(A.a)({},e),{},{defuseCardCount:e.defuseCardCount+1});case m:return Object(A.a)(Object(A.a)({},e),{},{numberOfCards:5,gameStatus:0,defuseCardCount:0,finalScore:0});case x:return Object(A.a)(Object(A.a)({},e),{},{defuseCardCount:e.defuseCardCount-1,drawnCard:"EXPLODE_CARD",message:"Defuse card saved you."});case f:return Object(A.a)(Object(A.a)({},e),{},{numberOfCards:5,gameStatus:1,defuseCardCount:0,finalScore:0,drawnCard:"EXPLODE_CARD",deckOfCards:[],message:"Bomb exploded.You loose."});case p:return Object(A.a)(Object(A.a)({},e),{},{numberOfCards:5,gameStatus:2,defuseCardCount:0,finalScore:1,drawnCard:"NO CARDS LEFT",deckOfCards:[],message:"YOU WON"});default:return e}}}),w=[S.a],U=Object(y.d)(_,{},Object(y.c)(y.a.apply(void 0,w)));var F=function(){return Object(i.jsx)(b.a,{store:U,children:Object(i.jsx)("main",{children:Object(i.jsx)(v.a,{children:Object(i.jsxs)(o.c,{children:[Object(i.jsx)(o.a,{path:"/",element:Object(i.jsx)(u,{})}),Object(i.jsx)(o.a,{path:"/game-screen",element:Object(i.jsx)(E,{})})]})})})})};d.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(F,{})}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.0cba838c.chunk.js.map